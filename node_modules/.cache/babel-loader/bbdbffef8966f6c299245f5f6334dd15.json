{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'EditForm',\n  data: function () {\n    return {\n      options: [\"Arma de fuego\", \"Armadura\", \"Equipamento\", \"Arma mele\", \"Explosivo\", \"Vehiculos de guerra\", \"Vehiculos de transporte\"],\n      dataEdit: {\n        nombre: this.$route.params.nombre,\n        descripcion: this.$route.params.descripcion,\n        cat: this.$route.params.cat,\n        src: \"\",\n        id: this.$route.params.id\n      },\n      errores: [],\n      ls: []\n    };\n  },\n  methods: {\n    edit: function (dataEdit) {\n      this.errores = [];\n\n      if (this.dataEdit.nombre == \"\") {\n        this.errores.push('El proyecto debe ser nombrado.');\n      } else if (this.dataEdit.nombre.length < 3) {\n        this.errores.push('El nombre debe tener al menos 3 caracteres.');\n      }\n\n      if (this.dataEdit.cat == \"\") {\n        this.errores.push('El proyecto debe ser categorisado.');\n      }\n\n      if (this.dataEdit.descripcion == \"\") {\n        this.errores.push('El proyecto debe ser descripto.');\n      } else if (this.dataEdit.descripcion.length < 15 || this.dataEdit.descripcion.length > 350) {\n        this.errores.push('La descripcion del proyecto debe tener entre 15 y 350 caracteres.');\n      }\n\n      if (this.errores.length == 0) {\n        switch (dataEdit.cat) {\n          case \"Arma de fuego\":\n            dataEdit.src = \"imgs/bl/weapon.jpg\";\n            break;\n\n          case \"Armadura\":\n            dataEdit.src = \"imgs/bl/armor.jpg\";\n            break;\n\n          case \"Arma mele\":\n            dataEdit.src = \"imgs/bl/mele.jpg\";\n            break;\n\n          case \"Explosivo\":\n            dataEdit.src = \"imgs/bl/ex.jpg\";\n            break;\n\n          case \"Equipamento\":\n            dataEdit.src = \"imgs/bl/ex.jpg\";\n            break;\n\n          case \"Vehiculos de transporte\":\n            dataEdit.src = \"imgs/bl/auto.jpg\";\n            break;\n\n          case \"Vehiculos de guerra\":\n            dataEdit.src = \"imgs/bl/auto.jpg\";\n            break;\n\n          default:\n            dataEdit.src = \"imgs/bl/weapon.jpg\";\n            break;\n        }\n\n        if (!localStorage.datos) {\n          this.ls = [];\n        } else {\n          this.ls = JSON.parse(localStorage.getItem(\"datos\"));\n        }\n\n        for (var i = 0; i < this.ls.length; i++) {\n          if (this.ls[i].id == this.dataEdit.id) {\n            this.ls.splice(i, 1);\n          }\n        }\n\n        this.ls.push(dataEdit);\n        localStorage.setItem(\"datos\", JSON.stringify(this.ls));\n        this.$router.push('/ver');\n      }\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;EACAA,gBADA;EAEAC;IACA;MACAC,iIADA;MAEAC;QAAAC;QACAC,2CADA;QAEAC,2BAFA;QAGAC,OAHA;QAIAC;MAJA,CAFA;MASAC,WATA;MAUAC;IAVA;EAYA,CAfA;EAiBAC;IAEAC;MACA;;MAEA;QACA;MACA,CAFA,MAEA;QACA;MACA;;MAEA;QACA;MACA;;MAEA;QACA;MACA,CAFA,MAEA;QACA;MACA;;MAEA;QAEA;UACA;YACAT;YACA;;UACA;YACAA;YACA;;UACA;YACAA;YACA;;UACA;YACAA;YACA;;UACA;YACAA;YACA;;UACA;YACAA;YACA;;UACA;YACAA;YACA;;UACA;YACAA;YACA;QAxBA;;QA2BA;UACA;QACA,CAFA,MAEA;UACA;QACA;;QAEA;UACA;YACA;UACA;QACA;;QAEA;QACAU;QAEA;MACA;IAEA;EApEA;AAjBA","names":["name","data","options","dataEdit","nombre","descripcion","cat","src","id","errores","ls","methods","edit","localStorage"],"sourceRoot":"src/components","sources":["edit.vue"],"sourcesContent":["<template>\r\n  <div>\r\n\r\n    <div class=\"form\">\r\n        <form v-on:submit.prevent>\r\n          <label>Nombre del Proyecto:</label>\r\n            <input type=\"text\"  placeholder=\"Proyecto a solicitar\" v-model=\"dataEdit.nombre\" name=\"nombre\"/>\r\n\r\n          <label>Categoria:</label>\r\n            <select v-model=\"dataEdit.cat\" name=\"cat\">\r\n              <option v-for=\"(x,index) in options\" :key=\"index\">{{x}}</option>\r\n            </select>\r\n\r\n          <label>Descripcion</label>\r\n          <textarea v-model.trim=\"dataEdit.descripcion\" name=\"descripcion\"></textarea>\r\n\r\n          <button type=\"button\" @click=\"edit(dataEdit)\" value=\"Guardar\">Enviar solicitud</button>\r\n        </form>\r\n        \r\n      <div><p v-for=\"(x,index) in errores\" :key=\"index\">{{x}}</p></div>\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'EditForm',\r\n  data:function(){\r\n    return {\r\n      options: [\"Arma de fuego\", \"Armadura\", \"Equipamento\", \"Arma mele\", \"Explosivo\", \"Vehiculos de guerra\", \"Vehiculos de transporte\"],\r\n      dataEdit:{nombre:this.$route.params.nombre,\r\n                descripcion: this.$route.params.descripcion,\r\n                cat: this.$route.params.cat,\r\n                src: \"\",\r\n                id:this.$route.params.id\r\n\r\n      },\r\n      errores:[],\r\n      ls:[]\r\n    }\r\n  },\r\n\r\n  methods:{\r\n\r\n    edit:function(dataEdit){\r\n      this.errores=[]\r\n             \r\n      if(this.dataEdit.nombre == \"\") {\r\n      this.errores.push('El proyecto debe ser nombrado.');\r\n      }else if(this.dataEdit.nombre.length < 3) {\r\n        this.errores.push('El nombre debe tener al menos 3 caracteres.');\r\n      }\r\n\r\n      if(this.dataEdit.cat == \"\"){\r\n        this.errores.push('El proyecto debe ser categorisado.');\r\n      }\r\n\r\n      if(this.dataEdit.descripcion == \"\") {\r\n      this.errores.push('El proyecto debe ser descripto.');\r\n      }else if(this.dataEdit.descripcion.length < 15 || this.dataEdit.descripcion.length > 350) {\r\n        this.errores.push('La descripcion del proyecto debe tener entre 15 y 350 caracteres.');\r\n      }\r\n      \r\n     if(this.errores.length == 0){\r\n\r\n         switch (dataEdit.cat) {\r\n          case \"Arma de fuego\":\r\n            dataEdit.src = \"imgs/bl/weapon.jpg\";\r\n            break;\r\n          case \"Armadura\":\r\n            dataEdit.src = \"imgs/bl/armor.jpg\";\r\n            break;\r\n          case \"Arma mele\":\r\n            dataEdit.src = \"imgs/bl/mele.jpg\";\r\n            break;\r\n          case \"Explosivo\":\r\n            dataEdit.src = \"imgs/bl/ex.jpg\";\r\n            break;\r\n          case \"Equipamento\":\r\n            dataEdit.src = \"imgs/bl/ex.jpg\";\r\n            break;\r\n          case \"Vehiculos de transporte\":\r\n            dataEdit.src = \"imgs/bl/auto.jpg\";\r\n            break;\r\n          case \"Vehiculos de guerra\":\r\n            dataEdit.src = \"imgs/bl/auto.jpg\";\r\n            break;\r\n          default:\r\n            dataEdit.src = \"imgs/bl/weapon.jpg\";\r\n            break;\r\n        }\r\n      \r\n      if(!localStorage.datos){\r\n          this.ls=[]\r\n        }else{\r\n          this.ls=JSON.parse(localStorage.getItem(\"datos\"))\r\n        }\r\n\r\n        for (var i=0; i < this.ls.length; i++){\r\n          if (this.ls[i].id == this.dataEdit.id ) {\r\n            this.ls.splice(i, 1);\r\n          }\r\n        }\r\n\r\n        this.ls.push(dataEdit)\r\n        localStorage.setItem(\"datos\",JSON.stringify(this.ls))\r\n        \r\n        this.$router.push('/ver');\r\n      }\r\n      \r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n"]},"metadata":{},"sourceType":"module"}